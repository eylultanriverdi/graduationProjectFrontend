{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\proje\\\\graduationProjectFrontend\\\\src\\\\components\\\\CalorieInfoPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { setCalorieInfoList, setProducts } from '../redux/actions/productActions';\nimport axios from 'axios';\nimport { TextField, Button, List, ListItem, ListItemText, ListItemSecondaryAction, Typography, Paper } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CalorieInfoPage = props => {\n  _s();\n  const {\n    calorieInfoList,\n    setCalorieInfoList\n  } = props;\n  const [newFood, setNewFood] = useState('');\n  const [newCalories, setNewCalories] = useState('');\n  const handleFoodChange = event => {\n    setNewFood(event.target.value);\n  };\n  const handleCaloriesChange = event => {\n    setNewCalories(event.target.value);\n  };\n  const handleAddFood = async () => {\n    try {\n      const currentDate = new Date().toISOString().split('T')[0];\n      const newFoodData = {\n        food: newFood,\n        calories: newCalories,\n        createDate: currentDate\n      };\n      await axios.post('http://localhost:3001/calorieInfo', newFoodData);\n      const resp = await axios.get('http://localhost:3001/calorieInfo');\n      if (resp && resp.status === 200) {\n        setCalorieInfoList(resp.data);\n      }\n      setNewFood('');\n      setNewCalories('');\n    } catch (error) {\n      console.log('Error:', error);\n    }\n  };\n  const calculateTotalCalories = () => {\n    let totalCalories = 0;\n    if (calorieInfoList && calorieInfoList.length > 0) {\n      totalCalories = calorieInfoList.reduce((total, food) => total + parseInt(food.calories), 0);\n    }\n    return totalCalories.toString();\n  };\n  useEffect(() => {\n    const fetchCalorieInfoList = async () => {\n      try {\n        const resp = await axios.get('http://localhost:3001/calorieInfo');\n        if (resp && resp.status === 200) {\n          setCalorieInfoList(resp.data);\n        }\n      } catch (error) {\n        console.log('Error:', error);\n      }\n    };\n    fetchCalorieInfoList();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      color: \"primary\",\n      align: \"center\",\n      gutterBottom: true,\n      children: \"Calorie Info Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      style: {\n        padding: '20px',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        color: \"primary\",\n        gutterBottom: true,\n        children: \"Add Food\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => e.preventDefault(),\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Food\",\n          value: newFood,\n          onChange: handleFoodChange,\n          fullWidth: true,\n          margin: \"normal\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Calories\",\n          type: \"number\",\n          value: newCalories,\n          onChange: handleCaloriesChange,\n          fullWidth: true,\n          margin: \"normal\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: handleAddFood,\n          children: \"Add Food\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      color: \"primary\",\n      gutterBottom: true,\n      children: \"Food List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), calorieInfoList && calorieInfoList.length > 0 ? /*#__PURE__*/_jsxDEV(List, {\n      children: calorieInfoList.map(food => /*#__PURE__*/_jsxDEV(ListItem, {\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: food.food,\n          secondary: `Calories: ${food.calories}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 15\n        }, this)\n      }, food.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      color: \"textSecondary\",\n      children: \"No foods added.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      color: \"primary\",\n      gutterBottom: true,\n      children: [\"Total Calories: \", calculateTotalCalories()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(CalorieInfoPage, \"Y/FxPPotw6WuxGuMAr7uo5uHYJw=\");\n_c = CalorieInfoPage;\nconst mapStateToProps = state => ({\n  calorieInfoList: state.calorieInfoList.products\n});\nconst mapDispatchToProps = {\n  setCalorieInfoList\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(CalorieInfoPage);\nvar _c;\n$RefreshReg$(_c, \"CalorieInfoPage\");","map":{"version":3,"names":["React","useState","useEffect","connect","setCalorieInfoList","setProducts","axios","TextField","Button","List","ListItem","ListItemText","ListItemSecondaryAction","Typography","Paper","jsxDEV","_jsxDEV","CalorieInfoPage","props","_s","calorieInfoList","newFood","setNewFood","newCalories","setNewCalories","handleFoodChange","event","target","value","handleCaloriesChange","handleAddFood","currentDate","Date","toISOString","split","newFoodData","food","calories","createDate","post","resp","get","status","data","error","console","log","calculateTotalCalories","totalCalories","length","reduce","total","parseInt","toString","fetchCalorieInfoList","children","variant","color","align","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","elevation","style","padding","marginBottom","onSubmit","e","preventDefault","label","onChange","fullWidth","margin","required","type","onClick","map","primary","secondary","id","_c","mapStateToProps","state","products","mapDispatchToProps","$RefreshReg$"],"sources":["C:/Users/lenovo/Desktop/proje/graduationProjectFrontend/src/components/CalorieInfoPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setCalorieInfoList, setProducts } from '../redux/actions/productActions';\r\nimport axios from 'axios';\r\nimport {\r\n  TextField,\r\n  Button,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemSecondaryAction,\r\n  Typography,\r\n  Paper\r\n} from '@mui/material';\r\n\r\nconst CalorieInfoPage = (props) => {\r\n  const { calorieInfoList, setCalorieInfoList } = props;\r\n  const [newFood, setNewFood] = useState('');\r\n  const [newCalories, setNewCalories] = useState('');\r\n\r\n  const handleFoodChange = (event) => {\r\n    setNewFood(event.target.value);\r\n  };\r\n\r\n  const handleCaloriesChange = (event) => {\r\n    setNewCalories(event.target.value);\r\n  };\r\n\r\n  const handleAddFood = async () => {\r\n    try {\r\n      const currentDate = new Date().toISOString().split('T')[0];\r\n      const newFoodData = {\r\n        food: newFood,\r\n        calories: newCalories,\r\n        createDate: currentDate\r\n      };\r\n\r\n      await axios.post('http://localhost:3001/calorieInfo', newFoodData);\r\n      const resp = await axios.get('http://localhost:3001/calorieInfo');\r\n      if (resp && resp.status === 200) {\r\n        setCalorieInfoList(resp.data);\r\n      }\r\n\r\n      setNewFood('');\r\n      setNewCalories('');\r\n    } catch (error) {\r\n      console.log('Error:', error);\r\n    }\r\n  };\r\n\r\n  const calculateTotalCalories = () => {\r\n    let totalCalories = 0;\r\n\r\n    if (calorieInfoList && calorieInfoList.length > 0) {\r\n      totalCalories = calorieInfoList.reduce((total, food) => total + parseInt(food.calories), 0);\r\n    }\r\n\r\n    return totalCalories.toString();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchCalorieInfoList = async () => {\r\n      try {\r\n        const resp = await axios.get('http://localhost:3001/calorieInfo');\r\n        if (resp && resp.status === 200) {\r\n          setCalorieInfoList(resp.data);\r\n        }\r\n      } catch (error) {\r\n        console.log('Error:', error);\r\n      }\r\n    };\r\n\r\n    fetchCalorieInfoList();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h4\" color=\"primary\" align=\"center\" gutterBottom>\r\n        Calorie Info Page\r\n      </Typography>\r\n\r\n      <Paper elevation={3} style={{ padding: '20px', marginBottom: '20px' }}>\r\n        <Typography variant=\"h5\" color=\"primary\" gutterBottom>\r\n          Add Food\r\n        </Typography>\r\n        <form onSubmit={(e) => e.preventDefault()}>\r\n          <TextField\r\n            label=\"Food\"\r\n            value={newFood}\r\n            onChange={handleFoodChange}\r\n            fullWidth\r\n            margin=\"normal\"\r\n            required\r\n          />\r\n          <TextField\r\n            label=\"Calories\"\r\n            type=\"number\"\r\n            value={newCalories}\r\n            onChange={handleCaloriesChange}\r\n            fullWidth\r\n            margin=\"normal\"\r\n            required\r\n          />\r\n          <Button variant=\"contained\" color=\"primary\" onClick={handleAddFood}>\r\n            Add Food\r\n          </Button>\r\n        </form>\r\n      </Paper>\r\n\r\n      <Typography variant=\"h5\" color=\"primary\" gutterBottom>\r\n        Food List\r\n      </Typography>\r\n      {calorieInfoList && calorieInfoList.length > 0 ? (\r\n        <List>\r\n          {calorieInfoList.map((food) => (\r\n            <ListItem key={food.id}>\r\n              <ListItemText primary={food.food} secondary={`Calories: ${food.calories}`} />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      ) : (\r\n        <Typography variant=\"body1\" color=\"textSecondary\">\r\n          No foods added.\r\n        </Typography>\r\n      )}\r\n\r\n      <Typography variant=\"h6\" color=\"primary\" gutterBottom>\r\n        Total Calories: {calculateTotalCalories()}\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  calorieInfoList: state.calorieInfoList.products\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  setCalorieInfoList\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CalorieInfoPage);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}